import{n as $,v as A,f as S,o as i,w as m,b as r,g as e,Y as j,a as t,M as k,N as B,O as N,t as o,c,F as D,r as F,a4 as C,l as u,a5 as V,Q as z,d as E,j as Y,V as G}from"./app-5e4c1E4T.js";import{A as L}from"./AddressForm-CkpRKYRp.js";import{A as O}from"./AddressFormModal-BNxTDtpz.js";const Q={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},T={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},q={class:"bg-white p-5 sm:p-8 relative"},H={class:"text-slate-950 text-2xl font-medium"},I={class:"mt-6 space-y-6"},J=["for","onClick"],K={class:"flex sm:h-20 w-[60px] sm:w-[88px] bg-slate-50 rounded-lg flex-col gap-2 justify-center items-center shrink-0"},P={class:"px-1.5 py-[3px] bg-slate-800 rounded-md text-white text-xs font-medium uppercase"},R={class:"grow overflow-hidden"},U={class:"flex justify-between items-center mb-1 pr-1"},W={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},X=["id","checked"],Z={class:"text-slate-500 text-base font-normal leading-normal"},ee={class:"text-slate-500 text-base font-normal leading-normal truncate"},te={key:0,class:"text-blue-500 mt-1 text-sm font-normal leading-[18px] italic"},se={class:"text-base font-medium leading-normal"},ae={__name:"AddressChangeDialogModal",setup(M){const a=$(),n=A(),f=()=>{a.showChangeAddressModal=!1,a.showAddressModal=!0};return(l,d)=>(i(),S(e(z),{as:"template",show:e(a).showChangeAddressModal},{default:m(()=>[r(e(j),{as:"div",class:"relative z-10",onClose:d[2]||(d[2]=s=>e(a).showChangeAddressModal=!1)},{default:m(()=>[r(e(k),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>d[3]||(d[3]=[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-50 transition-opacity"},null,-1)])),_:1}),t("div",Q,[t("div",T,[r(e(k),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:m(()=>[r(e(B),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all my-8 md:my-3 w-full md:max-w-2xl"},{default:m(()=>[t("div",q,[t("div",{class:"w-9 h-9 bg-slate-100 rounded-[32px] absolute top-4 right-4 flex justify-center items-center cursor-pointer",onClick:d[0]||(d[0]=s=>e(a).showChangeAddressModal=!1)},[r(e(N),{class:"w-6 h-6 text-slate-600"})]),t("div",H,o(l.$t("Saved Address")),1),t("div",I,[(i(!0),c(D,null,F(e(a).addresses,s=>(i(),c("label",{key:s.id,for:"address"+s.id,class:"mt-4 p-4 flex gap-6 rounded-lg border border-slate-200 has-[:checked]:border-primary cursor-pointer",onClick:p=>e(n).address=s},[t("div",K,[r(e(C),{class:"w-6 h-6 text-primary-600"}),t("div",P,o(s.address_type),1)]),t("div",R,[t("div",U,[t("div",W,o(s.name),1),t("input",{type:"radio",name:"address",id:"address"+s.id,value:"",class:"radioBtn2",checked:e(n).address.id==s.id},null,8,X)]),t("div",Z,o(s.phone),1),t("div",ee,o((s.flat_no?s.flat_no+", ":"")+s.address_line+", "+(s.address_line2?s.address_line2+", ":""))+", "+o(s.area+"-"+s.post_code),1),s.is_default?(i(),c("div",te,o(l.$t("Default Address")),1)):u("",!0)])],8,J))),128))]),t("button",{class:"px-6 py-4 rounded-[10px] border border-primary flex justify-center items-center w-full mt-6 text-primary hover:bg-primary hover:text-white gap-1",onClick:d[1]||(d[1]=s=>f())},[r(e(V),{class:"w-5 h-5"}),t("div",se,o(l.$t("New Address")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},oe={class:"mt-6 sm:mt-8 flex justify-between items-center gap-2"},re={class:"text-slate-950 text-xl font-medium leading-7"},de={key:0},ne={key:0,class:"mt-4 p-4 flex gap-6 rounded-lg border border-slate-200 w-full"},le={class:"flex w-[60px] sm:w-[88px] bg-slate-50 rounded-lg flex-col gap-2 justify-center items-center shrink-0"},ie={class:"px-1.5 py-[3px] bg-slate-800 rounded-md text-white text-xs font-medium uppercase"},ce={class:"overflow-hidden"},me={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},ue={class:"text-slate-500 text-base font-normal leading-normal"},fe={class:"text-slate-500 text-base font-normal leading-normal truncate"},ve={__name:"CheckoutShippingAddress",setup(M){const a=A();E(!1);const n=$();Y(()=>{n.fetchAddresses(),f()});const f=()=>{a.address||n.addresses.forEach(l=>{if(l.is_default)return a.address=l,!0})};return(l,d)=>{var s,p,h,_,x,v,g,y,w,b;return i(),c("div",null,[t("div",oe,[t("div",re,o(l.$t("Shipping Address")),1),e(n).addresses.length>0?(i(),c("button",{key:0,class:"text-slate-950 text-base font-normal leading-normal",onClick:d[0]||(d[0]=pe=>e(n).showChangeAddressModal=!0)},o(l.$t("Change")),1)):u("",!0)]),r(G,{"leave-active-class":"transition ease-in duration-300","enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[e(n).addresses.length==0?(i(),c("div",de,[r(L)])):u("",!0)]),_:1}),e(n).addresses.length>0?(i(),c("div",ne,[t("div",le,[r(e(C),{class:"w-6 h-6 text-primary-600"}),t("div",ie,o((s=e(a).address)==null?void 0:s.address_type),1)]),t("div",ce,[t("div",me,o((p=e(a).address)==null?void 0:p.name),1),t("div",ue,o((h=e(a).address)==null?void 0:h.phone),1),t("div",fe,o(((_=e(a).address)!=null&&_.flat_no?((x=e(a).address)==null?void 0:x.flat_no)+", ":"")+((v=e(a).address)==null?void 0:v.address_line)+", "+((g=e(a).address)!=null&&g.address_line2?((y=e(a).address)==null?void 0:y.address_line2)+", ":""))+" "+o(((w=e(a).address)==null?void 0:w.area)+"-"+((b=e(a).address)==null?void 0:b.post_code)),1)])])):u("",!0),r(ae),r(O)])}}};export{ve as _};
