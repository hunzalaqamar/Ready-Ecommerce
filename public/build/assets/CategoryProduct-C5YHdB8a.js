import{n as Q,d as p,u as J,z as K,j as W,p as M,e as D,c as i,o as n,a as e,b as d,w as g,g as o,t as l,q as C,F as v,r as f,f as X,S as L,l as N,Y as Z,M as P,N as ee,O as te,A as y,s as ae,I as F,P as U,Q as le}from"./app-5e4c1E4T.js";import{S as q,d as se}from"./swiper-EQnyE_i3.js";import{_ as oe}from"./ProductCard-C1-u9KIW.js";import{r as re,V as ne}from"./default-DM06Q2xy.js";import{r as ie}from"./ArrowLeftIcon-UA05NBlF.js";import"./Bag-ctKqoba3.js";import"./_commonjsHelpers-C4iS2aBk.js";const de={class:"main-container py-4 bg-slate-100"},ue={key:0,class:"w-full p-2 sm:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},me={class:"text-slate-600 text-sm sm:text-base font-normal leading-normal"},ce={class:"grow overflow-x-auto"},pe=["onClick"],ve={class:"grow shrink basis-0"},fe={key:1,class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},ge={class:"main-container py-12"},_e={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6 items-start"},xe={key:0,class:"flex justify-center items-center w-full mt-8"},be={class:"text-slate-800 text-base font-normal leading-normal"},he={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ye={class:"text-slate-800 text-base font-normal leading-normal"},we={class:"fixed inset-0 overflow-hidden"},ke={class:"absolute inset-0 overflow-hidden"},$e={class:"flex h-full flex-col justify-between overflow-y-scroll bg-white shadow-xl"},Ce={class:"p-4 flex flex-col gap-7"},Se={class:"flex justify-between items-center"},Ve={class:"text-slate-950 text-xl font-bold leading-loose"},je={class:"text-slate-950 text-base font-medium leading-normal"},ze={class:"flex flex-col gap-2 mt-3"},Me=["for"],Pe={class:"flex items-center gap-1"},Fe={class:"flex items-center"},Ue={class:"text-base font-medium leading-normal"},Be=["onUpdate:modelValue","id","value"],Ae={class:"text-slate-950 text-base font-medium leading-normal"},De=["value"],Le={class:"flex justify-between items-center gap-2"},Ne={class:"text-slate-950 text-base font-medium leading-normal"},qe={class:"text-primary text-base font-normal leading-normal"},Re={class:"w-[98%]"},Te={class:"text-slate-400 text-xs font-normal leading-none flex justify-between mt-2"},He={class:"text-slate-950 text-base font-medium leading-normal"},Ye={value:"",selected:""},Ee=["value"],Ge={class:"text-slate-950 text-base font-medium leading-normal"},Ie={value:"",selected:""},Oe=["value"],Qe={class:"text-slate-950 text-base font-medium leading-normal"},Je={class:"flex flex-wrap gap-4 p-3 rounded-xl border border-slate-200 mt-1"},Ke=["value","id"],We={class:"text-slate-950 text-base font-medium leading-normal"},Xe={class:"flex flex-wrap gap-4 p-3 rounded-xl border border-slate-200 mt-1"},Ze=["value","id"],et={class:"flex gap-6 p-6 border-t border-slate-200"},S=12,dt={__name:"CategoryProduct",setup(tt){const R=Q(),h=p(!0),m=J(),c=K(),b=p([0,1e3]);W(()=>{$(),A(),window.scrollTo(0,0)}),M(()=>c.params.slug,()=>{_.value=1,r.value.category_id=c.params.slug,$(),A()}),M(()=>c.query.subcategory,()=>{_.value=1,$()});const _=p(1),T=a=>{_.value=a,$()},w=p(!1),r=p({rating:null,sort_type:"default",brand_id:"",color_id:null,size_id:null,min_price:null,max_price:null,category_id:c.params.slug}),u=p({sizes:[],brands:[],colors:[],min_price:0,max_price:1e3}),H=[5,4,3,2,1];m.categories;const k=p([]),V=p(0),j=p(!0),z=p(!1);M(r.value,()=>{r.value.rating||r.value.shortBy||r.value.brand||r.value.color||r.value.size?z.value=!0:z.value=!1},{deep:!0});const Y=()=>{r.value={rating:null,short_by:"default",brand_id:"",color_id:null,size_id:null,min_price:u.value.min_price,max_price:u.value.max_price,category_id:c.params.slug},b.value=[Math.floor(u.value.min_price),Math.floor(u.value.max_price)],j.value=!0},B=p([]),$=async()=>{window.scrollTo({top:0,behavior:"smooth"}),h.value=!0,axios.get("/products",{params:{page:_.value,per_page:S,search:m.search,sub_category_id:c.query.subcategory,...r.value},headers:{"Accept-Language":m.locale||"en",Authorization:R.token}}).then(a=>{V.value=a.data.data.total,k.value=a.data.data.products,u.value=a.data.data.filters,j.value&&(b.value=[Math.floor(u.value.min_price),Math.floor(u.value.max_price)]),setTimeout(()=>{h.value=!1},200)})},E=()=>{r.value.min_price=b.value[0],r.value.max_price=b.value[1],j.value=!1,m.search=null,_.value=1,w.value=!1,$()},A=async()=>{axios.get("/sub-categories?category_id="+c.params.slug,{headers:{"Accept-Language":m.locale||"en"}}).then(a=>{B.value=a.data.data.sub_categories})},G=[{name:"Default Sorting",value:"default"},{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Most Selling",value:"most_selling"},{name:"Top Seller",value:"top_seller"},{name:"New Product",value:"new_product"}];return(a,s)=>{const I=D("router-link"),O=D("vue-awesome-paginate");return n(),i("div",null,[e("div",de,[h.value?(n(),i("div",fe,[(n(),i(v,null,f(2,t=>d(L,{class:"w-24 sm:w-32 md:w-72 lg:w-96 h-12 rounded"})),64))])):(n(),i("div",ue,[d(I,{to:"/",class:"py-2 flex gap-1 sm:gap-2 items-center justify-center"},{default:g(()=>[d(o(ie),{class:"w-4 h-4 sm:w-6 sm:h-6 text-slate-600"}),e("div",me,l(a.$t("Back")),1)]),_:1}),e("div",ce,[d(o(se),{slidesPerView:"auto",spaceBetween:16,class:"categorySwiper"},{default:g(()=>[d(o(q),null,{default:g(()=>[e("div",{class:C(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",o(c).query.subcategory?"border-slate-200 text-slate-600":"text-primary border-primary"]),onClick:s[0]||(s[0]=t=>a.$router.push(`/categories/${o(c).params.slug}`))},l(a.$t("All")),3)]),_:1}),(n(!0),i(v,null,f(B.value,t=>(n(),X(o(q),{key:t.id},{default:g(()=>[e("div",{class:C(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",t.id==o(c).query.subcategory?"text-primary border-primary":"border-slate-200 text-slate-600"]),onClick:x=>a.$router.push(`/categories/${o(c).params.slug}?subcategory=${t.id}`)},l(t.name),11,pe)]),_:2},1024))),128))]),_:1})]),e("div",null,[e("button",{class:C(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",z.value?" bg-primary-200 text-primary":"text-slate-600 bg-slate-200"]),onClick:s[1]||(s[1]=t=>w.value=!0)},[d(o(re),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",ve,l(a.$t("Filter")),1)],2)])]))]),e("div",ge,[e("div",_e,[h.value?(n(),i(v,{key:1},f(12,t=>e("div",{key:t},[d(L,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(n(!0),i(v,{key:0},f(k.value,t=>(n(),i("div",{key:t.id,class:"w-full"},[d(oe,{product:t},null,8,["product"])]))),128))]),k.value.length==0&&!h.value?(n(),i("div",xe,[e("div",be,l(a.$t("No products found")),1)])):N("",!0),k.value.length>0&&!h.value?(n(),i("div",he,[e("div",ye,l(a.$t("Showing"))+" "+l(S*(_.value-1)+1)+" to "+l(S*(_.value-1)+k.value.length)+" "+l(a.$t("of"))+" "+l(V.value)+" "+l(a.$t("results")),1),e("div",null,[d(O,{"total-items":V.value,"items-per-page":S,type:"button","max-pages-shown":5,modelValue:_.value,"onUpdate:modelValue":s[2]||(s[2]=t=>_.value=t),"hide-prev-next-when-ends":!0,onClick:T},null,8,["total-items","modelValue"])])])):N("",!0)]),d(o(le),{as:"template",show:w.value},{default:g(()=>[d(o(Z),{as:"div",class:"relative z-10",onClose:s[10]||(s[10]=t=>w.value=!1)},{default:g(()=>[d(o(P),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>s[11]||(s[11]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])),_:1}),e("div",we,[e("div",ke,[e("div",{class:C(["pointer-events-none fixed inset-y-0 flex max-w-full",o(m).langDirection=="rtl"?"left-0 sm:pr-10":"right-0 sm:pl-10"])},[d(o(P),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":o(m).langDirection=="rtl"?"-translate-x-full":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":o(m).langDirection=="rtl"?"-translate-x-full":"translate-x-full"},{default:g(()=>[d(o(ee),{class:"pointer-events-auto relative w-screen max-w-md"},{default:g(()=>[d(o(P),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>s[12]||(s[12]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])),_:1}),e("div",$e,[e("div",Ce,[e("div",Se,[e("div",Ve,l(a.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:s[3]||(s[3]=t=>w.value=!1)},[d(o(te),{class:"w-5 h-5 text-slate-700"})])]),e("div",null,[e("div",je,l(a.$t("Customer Review")),1),e("div",ze,[(n(),i(v,null,f(H,t=>e("div",{key:t,class:"grow"},[e("label",{for:`rating${t}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between px-2 py-1.5 bg-white rounded-lg border border-slate-100 gap-1.5"},[e("div",Pe,[e("div",Fe,[(n(),i(v,null,f(5,x=>d(o(ae),{key:x,class:C(["w-5 h-5",x<=t?"text-amber-500":"text-gray-200"])},null,8,["class"])),64))]),e("div",Ue,l(t)+".0 ",1)]),y(e("input",{type:"radio","onUpdate:modelValue":x=>r.value.rating=x,id:`rating${t}`,name:"review",value:t,class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,Be),[[F,r.value.rating]])],8,Me)])),64))])]),e("div",null,[e("div",Ae,l(a.$t("Sort by")),1),y(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>r.value.sort_type=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(n(),i(v,null,f(G,t=>e("option",{key:t,value:t.value},l(t.name),9,De)),64))],512),[[U,r.value.sort_type]])]),e("div",null,[e("div",Le,[e("div",Ne,l(a.$t("Product Price")),1),e("div",qe,l(o(m).showCurrency(b.value[0]))+" - "+l(o(m).showCurrency(b.value[1])),1)]),e("div",Re,[d(o(ne),{modelValue:b.value,"onUpdate:modelValue":s[5]||(s[5]=t=>b.value=t),min:u.value.min_price,max:u.value.max_price},null,8,["modelValue","min","max"])]),e("div",Te,[e("span",null," $"+l(u.value.min_price),1),e("span",null," $"+l(u.value.max_price),1)])]),e("div",null,[e("div",He,l(a.$t("Category")),1),y(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>r.value.category_id=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[e("option",Ye,l(a.$t("Select Category")),1),(n(!0),i(v,null,f(o(m).categories,t=>(n(),i("option",{key:t.id,value:t.id},l(a.$t(t.name)),9,Ee))),128))],512),[[U,r.value.category_id]])]),e("div",null,[e("div",Ge,l(a.$t("Brand")),1),y(e("select",{"onUpdate:modelValue":s[7]||(s[7]=t=>r.value.brand_id=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[e("option",Ie,l(a.$t("Select Brand")),1),(n(!0),i(v,null,f(u.value.brands,t=>(n(),i("option",{key:t.id,value:t.id},l(a.$t(t.name)),9,Oe))),128))],512),[[U,r.value.brand_id]])]),e("div",null,[e("div",Qe,l(a.$t("Color")),1),e("div",Je,[(n(!0),i(v,null,f(u.value.colors,t=>(n(),i("label",{key:t.id,class:"cursor-pointer has-[:checked]:text-primary text-slate-800 flex items-center p-2 bg-white gap-2"},[y(e("input",{type:"radio","onUpdate:modelValue":s[8]||(s[8]=x=>r.value.color_id=x),value:t.id,id:"color-"+t.id,name:"color",class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,Ke),[[F,r.value.color_id]]),e("span",null,l(a.$t(t.name)),1)]))),128))])]),e("div",null,[e("div",We,l(a.$t("Size")),1),e("div",Xe,[(n(!0),i(v,null,f(u.value.sizes,t=>(n(),i("label",{key:t.id,class:"cursor-pointer has-[:checked]:text-primary text-slate-800 flex items-center p-2 bg-white gap-2"},[y(e("input",{type:"radio","onUpdate:modelValue":s[9]||(s[9]=x=>r.value.size_id=x),value:t.id,id:"size-"+t.id,name:"size",class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,Ze),[[F,r.value.size_id]]),e("span",null,l(a.$t(t.name)),1)]))),128))])])]),e("div",et,[e("button",{class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal",onClick:Y},l(a.$t("Clear")),1),e("button",{class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal",onClick:E},l(a.$t("Apply")),1)])])]),_:1})]),_:1},8,["enter-from","leave-to"])],2)])])]),_:1})]),_:1},8,["show"])])}}};export{dt as default};
