import{n as re,u as de,y as ue,z as ce,d as n,j as ve,e as pe,c as o,o as l,a as e,f as M,S as u,t as s,q as S,F as p,r as m,b as i,g as $,s as me,A as ge,B as he,C as fe,w as z,l as w}from"./app-5e4c1E4T.js";import{S as Y,d as _e}from"./swiper-EQnyE_i3.js";import{_ as we,a as xe,f as ye}from"./free-mode-BvGxJWCo.js";import{_ as be}from"./ProductCard-C1-u9KIW.js";import"./Bag-ctKqoba3.js";const ke={class:""},$e={class:"h-56 md:h-64 w-full"},Re=["src"],Pe={class:"main-container relative bg-primary-50 py-10 pt-24"},Ve={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},Se={key:0,class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},je={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},Te={class:"flex grow gap-6"},Be={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},Ce=["src"],Le={class:"flex flex-col items-start gap-2"},Me={class:"flex justify-start items-center w-full gap-2"},ze={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight"},Ae={class:"flex justify-start items-center gap-4"},Fe={class:"text-slate-500 text-base font-normal leading-normal"},Ne={class:"text-slate-500 text-sm font-normal leading-tight"},De=["innerHTML"],He={class:"sm:border-l border-slate-200 w-full sm:w-[156px] md:w-[184px] flex flex-row-reverse sm:flex-col justify-center sm:justify-start items-center gap-2"},Ue={class:"flex gap-1"},Ie={class:"text-slate-800 text-base font-bold leading-normal"},qe={class:"text-slate-500 text-base font-normal leading-normal"},Ee={class:"flex"},Oe={class:"flex justify-between items-center w-full"},Ge={class:"lg:w-[448px] relative hidden sm:block"},Je=["placeholder"],Ke={class:"pt-10"},Qe=["src"],We={class:"main-container py-10 pt-24"},Xe={class:"mt-12"},Ye={key:0,class:"w-full"},Ze={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 items-start"},et={key:0,class:"text-slate-950 text-xl font-medium leading-7"},tt={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},st={class:"text-slate-800 text-base font-normal leading-normal"},at={key:1,class:"w-full"},lt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},ot={class:"text-slate-950 text-xl font-medium leading-7"},nt={class:"text-slate-950 text-xl font-medium leading-7"},it={class:"mt-4"},rt={class:"w-full flex gap-3 items-center"},dt={class:"w-full space-y-2"},ut={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ct={class:"text-slate-800 text-base font-normal leading-normal"},vt={key:3},pt={class:"text-slate-700 text-xl font-medium leading-7 italic"},xt={__name:"ShopDetails",setup(mt){const Z=re(),A=de(),ee=new ue,j=ce(),te=[ye],g=n(!0),h=n(!0),f=n(!1),x=n(!0),y=n(!1),c=n(1),R=n(12),se=t=>{c.value=t,L()},P=n(5),_=n(1),ae=t=>{_.value=t,N()},r=n({}),b=n([]),T=n(0),B=n({}),V=n(0),k=n([]),C=n("");let F=null;const le=()=>{clearTimeout(F),F=setTimeout(()=>{c.value=1,x.value=!0,y.value=!1,L()},1e3)};ve(()=>{if(!A.multiVendor){ee.push("/");return}ne(),window.scrollTo(0,0),L()});const oe=()=>{x.value=!1,y.value=!0,N()},ne=async()=>{g.value=!0,axios.get("/shops/"+j.params.id).then(t=>{r.value=t.data.data.shop,setTimeout(()=>{g.value=!1},200)}).catch(t=>{g.value=!1})},L=async()=>{h.value=!0,axios.get("/products",{params:{shop_id:j.params.id,page:c.value,per_page:R.value,search:C.value},headers:{"Accept-Language":A.locale||"en",Authorization:Z.token}}).then(t=>{T.value=t.data.data.total,b.value=t.data.data.products,h.value=!1}).catch(t=>{h.value=!1})},N=async()=>{f.value=!0,axios.get("/reviews",{params:{shop_id:j.params.id,page:_.value,per_page:P.value}}).then(t=>{V.value=t.data.data.total,k.value=t.data.data.reviews,B.value=t.data.data.average_rating_percentage,f.value=!1}).catch(t=>{f.value=!1})},ie={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}};return(t,d)=>{var H,U,I,q,E,O,G,J,K,Q,W,X;const D=pe("vue-awesome-paginate");return l(),o("div",ke,[e("div",$e,[g.value?(l(),M(u,{key:1,class:"w-full h-full"})):(l(),o("img",{key:0,src:(H=r.value)==null?void 0:H.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Re))]),e("div",Pe,[e("div",Ve,[g.value?(l(),M(u,{key:1,class:"w-full h-48 p-6 rounded-2xl"})):(l(),o("div",Se,[e("div",je,[e("div",Te,[e("div",Be,[e("img",{src:(U=r.value)==null?void 0:U.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,Ce)]),e("div",Le,[e("div",Me,[e("div",ze,s((I=r.value)==null?void 0:I.name),1),e("div",{class:S(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((q=r.value)==null?void 0:q.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},s((E=r.value)==null?void 0:E.shop_status),3)]),e("div",Ae,[e("div",Fe,s((O=r.value)==null?void 0:O.total_products)+"+ "+s(t.$t("Items")),1)]),e("div",Ne,[e("div",{innerHTML:(G=r.value)==null?void 0:G.description},null,8,De)])])]),e("div",He,[e("div",Ue,[e("div",Ie,s((K=(J=r.value)==null?void 0:J.rating)==null?void 0:K.toFixed(1)),1),e("div",qe," ("+s((Q=r.value)==null?void 0:Q.total_reviews)+") ",1)]),e("div",Ee,[(l(),o(p,null,m(5,a=>{var v;return i($(me),{key:a,class:S(["w-4 h-4",a<=((v=r.value)==null?void 0:v.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])])]),e("div",Oe,[e("div",null,[e("button",{class:S(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",x.value?"text-white bg-primary":"text-slate-600"]),onClick:d[0]||(d[0]=a=>{x.value=!0,y.value=!1})},s(t.$t("All Products")),3),e("button",{class:S(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",y.value?"text-white bg-primary":"text-slate-600"]),onClick:oe},s(t.$t("Reviews")),3)]),e("div",Ge,[ge(e("input",{type:"text",placeholder:t.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":d[1]||(d[1]=a=>C.value=a),onInput:d[2]||(d[2]=a=>le())},null,40,Je),[[he,C.value]]),i($(fe),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])]))]),e("div",Ke,[i($(_e),{breakpoints:ie,spaceBetween:30,freeMode:!0,modules:te},{default:z(()=>{var a;return[g.value?(l(),o(p,{key:1},m(3,v=>i($(Y),{key:v},{default:z(()=>[i(u,{class:"w-full h-32 rounded-xl"})]),_:2},1024)),64)):(l(!0),o(p,{key:0},m((a=r.value)==null?void 0:a.banners,v=>(l(),M($(Y),{key:v.id},{default:z(()=>[e("img",{src:v.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl object-cover"},null,8,Qe)]),_:2},1024))),128))]}),_:1})])]),e("div",We,[e("div",Xe,[x.value?(l(),o("div",Ye,[e("div",Ze,[h.value?(l(),o(p,{key:1},m(12,a=>e("div",{key:a,class:"w-full"},[i(u,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),o(p,{key:0},m(b.value,a=>(l(),o("div",{key:a.id,class:"w-full"},[i(be,{product:a},null,8,["product"])]))),128))]),b.value.length==0&&!h.value?(l(),o("div",et,s(t.$t("No Products Found")),1)):w("",!0),b.value.length>0&&!h.value?(l(),o("div",tt,[e("div",st,s(t.$t("Showing"))+" "+s(R.value*(c.value-1)+1)+" "+s(t.$t("to"))+" "+s(R.value*(c.value-1)+b.value.length)+" "+s(t.$t("of"))+" "+s(T.value)+" "+s(t.$t("results")),1),e("div",null,[i(D,{"total-items":T.value,"items-per-page":R.value,type:"button","max-pages-shown":5,modelValue:c.value,"onUpdate:modelValue":d[3]||(d[3]=a=>c.value=a),"hide-prev-next-when-ends":!0,onClick:se},null,8,["total-items","items-per-page","modelValue"])])])):w("",!0)])):w("",!0),y.value?(l(),o("div",at,[e("div",lt,[e("div",null,[e("div",ot,s(t.$t("Rating and Review")),1),i(we,{reviewRatings:(W=B.value)==null?void 0:W.percentages,averageRating:(X=B.value)==null?void 0:X.rating,totalReview:V.value},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",null,[e("div",nt,s(t.$t("Reviews")),1),e("div",it,[f.value?(l(),o(p,{key:1},m(6,a=>e("div",{key:a,class:"mb-4"},[e("div",rt,[i(u,{class:"w-16 h-16 rounded-full shrink-0"}),e("div",dt,[i(u,{class:"w-full h-2.5 rounded-lg"}),i(u,{class:"w-11/12 h-2.5 rounded-lg"}),i(u,{class:"w-10/12 h-2.5 rounded-lg"})])])])),64)):(l(!0),o(p,{key:0},m(k.value,a=>(l(),o("div",{key:a.id,class:"mb-4"},[i(xe,{review:a},null,8,["review"])]))),128)),!f.value&&k.value.length>0?(l(),o("div",ut,[e("div",ct,s(t.$t("Showing"))+" "+s(P.value*(_.value-1)+1)+" "+s(t.$t("to"))+" "+s(P.value*(_.value-1)+k.value.length)+" "+s(t.$t("of"))+" "+s(V.value)+" "+s(t.$t("results")),1),e("div",null,[i(D,{"total-items":V.value,"items-per-page":P.value,type:"button","max-pages-shown":3,modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=a=>_.value=a),"hide-prev-next-when-ends":!0,onClick:ae},null,8,["total-items","items-per-page","modelValue"])])])):w("",!0),k.value.length==0&&!f.value?(l(),o("div",vt,[e("div",pt,s(t.$t("No Reviews Found")),1)])):w("",!0)])])])])):w("",!0)])])])}}};export{xt as default};
