import{_ as O,u as C,e as V,c as g,o as h,a as e,t,q as k,g as B,b as $,w as L,h as i,y as U,n as j,d as f,p as A,j as I,l as P,A as p,I as c,F as D,r as H}from"./app-5e4c1E4T.js";import{_ as T}from"./AuthPageHeader-D7tTH-YT.js";const N={class:"p-2 md:px-4 md:py-3 bg-white rounded-lg border border-slate-100 flex gap-2 lg:gap-4 flex-col lg:flex-row items-center justify-between"},W={class:"w-full lg:w-[50%] flex flex-col overflow-hidden"},S={class:"flex gap-1 justify-between"},F={class:"text-sm sm:text-base font-normal shrink-0"},M={class:"text-slate-500"},q={class:"text-blue-500"},z={class:"inline-flex gap-2 text-xs sm:text-sm leading-tight text-ellipsis"},R={class:"text-slate-500 shrink-0"},E={class:"text-slate-950 whitespace-nowrap text-ellipsis overflow-hidden"},Q={class:"grow flex w-full gap-2 items-center justify-between"},Y={class:"text-sm sm:text-base font-normal xl:w-20"},G={class:"text-slate-500"},J={class:"text-slate-950"},K={class:"text-sm sm:text-base font-normal xl:w-36"},X={class:"text-slate-500"},Z={class:"text-slate-950"},ee={class:"hidden lg:block xl:w-28"},te={class:"flex justify-end"},se={__name:"OrderHistoryOrderItem",props:{order:Object},setup(b){const d=b,v=C();return(s,x)=>{var r,u,n,y,_,a,o,w,l;const m=V("router-link");return h(),g("div",N,[e("div",W,[e("div",S,[e("div",F,[e("span",M,t(s.$t("Order ID")),1),e("span",q,t((r=d.order)==null?void 0:r.order_code),1)]),e("div",{class:k(["text-xs sm:text-sm font-normal px-1.5 py-0.5 rounded-[10px] inline-block lg:hidden text-ellipsis overflow-hidden",(u=d.order)==null?void 0:u.order_status])},t((n=d.order)==null?void 0:n.order_status),3)]),e("div",z,[e("span",R,t(s.$t("Placed on")),1),e("span",E,t((y=d.order)==null?void 0:y.placed_at),1)])]),e("div",Q,[e("div",Y,[e("span",G,t(s.$t("QTY"))+": ",1),e("span",J,t((_=d.order)==null?void 0:_.quantity),1)]),e("div",K,[e("span",X,t(s.$t("Amount"))+": ",1),e("span",Z,t(B(v).showCurrency((a=d.order)==null?void 0:a.amount)),1)]),e("div",ee,[e("div",{class:k(["text-sm font-normal px-1.5 py-0.5 rounded-[10px] inline-block",(o=d.order)==null?void 0:o.order_status])},t((w=d.order)==null?void 0:w.order_status),3)]),e("div",te,[$(m,{to:"/order-history/"+((l=d.order)==null?void 0:l.id),class:"text-slate-500 text-sm sm:text-base font-normal leading-normal"},{default:L(()=>[i(t(s.$t("View Details")),1)]),_:1},8,["to"])])])])}}},ae=O(se,[["__scopeId","data-v-747843aa"]]),le={class:"bg-white px-3 border-t border-slate-100 flex gap-4 md:gap-8 overflow-x-auto"},oe={class:"statusLinkBtn",for:"Pending"},ne={class:"statusLinkBtn",for:"Confirm"},de={class:"statusLinkBtn",for:"Pickup"},re={class:"statusLinkBtn",for:"Processing"},ie={class:"statusLinkBtn",for:"OnTheWay"},ue={class:"statusLinkBtn",for:"delivered"},pe={class:"statusLinkBtn",for:"Cancelled"},ce={class:"statusLinkBtn",for:"All"},ve={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-6"},me={class:"p-4 lg:p-6 bg-white rounded-xl flex flex-col gap-3"},_e={key:0},fe={key:0,class:"px-2 md:px-4 lg:px-6 mt-4"},ge={class:"bg-white p-3 rounded-xl flex justify-between items-center w-full gap-4 flex-wrap"},he={class:"text-slate-800 text-base font-normal leading-normal"},xe={__name:"OrderHistory",setup(b){const d=U(),v=j(),s=f("Pending"),x=f([]),m=f(20),r=f(1),u=f(10),n=f({all:0,pending:0,confirm:0,processing:0,pickup:0,on_the_way:0,delivered:0,cancelled:0}),y=a=>{r.value=a,_()};A(s,()=>{r.value=1,_()}),I(()=>{_()});const _=async()=>{axios.get("/orders",{params:{order_status:s.value,page:r.value,per_page:u.value},headers:{Authorization:v.token}}).then(a=>{m.value=a.data.data.total,x.value=a.data.data.orders,n.value=a.data.data.status_wise_orders}).catch(a=>{a.response.status===401&&(v.token=null,v.user=null,v.addresses=[],v.favoriteProducts=0,d.push("/"))})};return(a,o)=>{const w=V("vue-awesome-paginate");return h(),g("div",null,[$(T,{title:"Order History"}),e("div",le,[e("label",oe,[p(e("input",{type:"radio","onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),name:"status",class:"sr-only",value:"Pending",id:"Pending",checked:""},null,512),[[c,s.value]]),i(" "+t(a.$t("Pending"))+" ("+t(n.value.pending)+") ",1)]),e("label",ne,[p(e("input",{type:"radio","onUpdate:modelValue":o[1]||(o[1]=l=>s.value=l),name:"status",class:"sr-only",value:"Confirm",id:"Confirm"},null,512),[[c,s.value]]),i(" "+t(a.$t("Confirm"))+" ("+t(n.value.confirm)+") ",1)]),e("label",de,[p(e("input",{type:"radio","onUpdate:modelValue":o[2]||(o[2]=l=>s.value=l),name:"status",class:"sr-only",value:"Pickup",id:"Pickup"},null,512),[[c,s.value]]),i(" "+t(a.$t("Pickup"))+" ("+t(n.value.pickup)+") ",1)]),e("label",re,[p(e("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=l=>s.value=l),name:"status",class:"sr-only",value:"Processing",id:"Processing"},null,512),[[c,s.value]]),i(" "+t(a.$t("Processing"))+" ("+t(n.value.processing)+") ",1)]),e("label",ie,[p(e("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=l=>s.value=l),name:"status",class:"sr-only",value:"On The Way",id:"OnTheWay"},null,512),[[c,s.value]]),i(" "+t(a.$t("On The Way"))+" ("+t(n.value.on_the_way)+") ",1)]),e("label",ue,[p(e("input",{type:"radio","onUpdate:modelValue":o[5]||(o[5]=l=>s.value=l),name:"status",class:"sr-only",value:"Delivered",id:"delivered"},null,512),[[c,s.value]]),i(" "+t(a.$t("Delivered"))+" ("+t(n.value.delivered)+") ",1)]),e("label",pe,[p(e("input",{type:"radio","onUpdate:modelValue":o[6]||(o[6]=l=>s.value=l),name:"status",class:"sr-only",value:"cancelled",id:"Cancelled"},null,512),[[c,s.value]]),i(" "+t(a.$t("Cancelled"))+" ("+t(n.value.cancelled)+") ",1)]),e("label",ce,[p(e("input",{type:"radio","onUpdate:modelValue":o[7]||(o[7]=l=>s.value=l),name:"status",class:"sr-only",value:"",id:"All"},null,512),[[c,s.value]]),i(" "+t(a.$t("All"))+" ("+t(n.value.all)+") ",1)])]),e("div",ve,[e("div",me,[(h(!0),g(D,null,H(x.value,l=>(h(),g("div",{key:l.id},[$(ae,{order:l},null,8,["order"])]))),128)),x.value.length==0?(h(),g("div",_e,[e("p",null,t(a.$t("No Order Found")),1)])):P("",!0)])]),m.value>u.value?(h(),g("div",fe,[e("div",ge,[e("div",he,t(a.$t("Showing"))+" "+t(u.value*(r.value-1)+1)+" "+t(a.$t("to"))+" "+t(u.value*(r.value-1)+x.value.length)+" "+t(a.$t("of"))+" "+t(m.value)+" "+t(a.$t("results")),1),e("div",null,[$(w,{"total-items":m.value,"items-per-page":u.value,type:"button","max-pages-shown":3,modelValue:r.value,"onUpdate:modelValue":o[8]||(o[8]=l=>r.value=l),"hide-prev-next-when-ends":!0,onClick:y},null,8,["total-items","items-per-page","modelValue"])])])])):P("",!0)])}}},$e=O(xe,[["__scopeId","data-v-afe1b547"]]);export{$e as default};
